"use strict";(self["webpackChunkhalo_admin"]=self["webpackChunkhalo_admin"]||[]).push([[765],{6765:function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-wrapper animated fadeIn"},[e._m(0),s("div",{staticClass:"login-form"},[s("LoginForm",{on:{success:e.onLoginSucceed}}),e.resetPasswordButtonVisible?s("router-link",{staticClass:"tip",attrs:{to:{name:"ResetPassword"}}},[e._v(" 找回密码 ")]):e._e()],1)])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"halo-logo"},[s("img",{attrs:{alt:"Halo Logo",src:"/images/logo.svg"}})])}],o=s(91057),a=s(76381),i=(s(70315),s(98906)),u=s(11896),c=s(1540),l={components:{LoginForm:u.Z},data:function(){return{resetPasswordButtonVisible:!1}},beforeMount:function(){this.handleVerifyIsInstall(),document.addEventListener("keydown",this.onRegisterResetPasswordKeydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.onRegisterResetPasswordKeydown)},methods:(0,a.Z)((0,a.Z)({},(0,i.nv)(["refreshUserCache","refreshOptionsCache"])),{},{onRegisterResetPasswordKeydown:function(e){72===e.keyCode&&(e.altKey||e.metaKey)&&e.shiftKey&&(e.preventDefault(),this.resetPasswordButtonVisible=!this.resetPasswordButtonVisible)},handleVerifyIsInstall:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.Z.isInstalled();case 2:if(s=t.sent,s.data){t.next=6;break}return t.next=6,e.$router.push({name:"Install"});case 6:case"end":return t.stop()}}),t)})))()},onLoginSucceed:function(){this.refreshUserCache(),this.refreshOptionsCache(),this.$route.query.redirect?this.$router.push(this.$route.query.redirect):this.$router.push({name:"Dashboard"})}})},d=l,h=s(18156),f=(0,h.Z)(d,n,r,!1,null,null,null),m=f.exports}}]);
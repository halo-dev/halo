"use strict";(self["webpackChunkhalo_admin"]=self["webpackChunkhalo_admin"]||[]).push([[994],{70799:function(e,t,o){o.r(t),o.d(t,{default:function(){return $e}});var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("page-view",{attrs:{title:e.title}},[o("template",{slot:"extra"},[o("a-button",{staticStyle:{padding:"0"},attrs:{type:"link"},on:{click:function(t){e.advancedOptions=!e.advancedOptions}}},[e._v(" 切换到"+e._s(e.advancedOptions?"基础选项":"高级选项")+" ")])],1),o("a-row",[o("a-col",{attrs:{span:24}},[o("div",{staticClass:"card-container"},[e.advancedOptions?o("a-tabs",{staticClass:"advanced",attrs:{type:"card"}},[o("a-tab-pane",{key:"permalink"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"link"}}),e._v("固定链接 ")],1),o("PermalinkTab",{attrs:{errored:e.errored,options:e.options,saving:e.saving},on:{callback:function(t){e.errored=!1},onChange:e.onOptionsChange,onSave:e.onSaveOptions}})],1),o("a-tab-pane",{key:"api"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"api"}}),e._v("API 设置 ")],1),o("ApiTab",{attrs:{errored:e.errored,options:e.options,saving:e.saving},on:{callback:function(t){e.errored=!1},onChange:e.onOptionsChange,onSave:e.onSaveOptions}})],1),o("a-tab-pane",{key:"advanced-other"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"align-left"}}),e._v("其他设置 ")],1),o("AdvancedOtherTab",{attrs:{errored:e.errored,options:e.options,saving:e.saving},on:{callback:function(t){e.errored=!1},onChange:e.onOptionsChange,onSave:e.onSaveOptions}})],1)],1):o("a-tabs",{staticClass:"general",attrs:{type:"card"}},[o("a-tab-pane",{key:"general"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"tool"}}),e._v("常规设置 ")],1),o("GeneralTab",{attrs:{errored:e.errored,options:e.options,saving:e.saving},on:{callback:function(t){e.errored=!1},onChange:e.onOptionsChange,onSave:e.onSaveOptions}})],1),o("a-tab-pane",{key:"seo"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"global"}}),e._v("SEO 设置 ")],1),o("SeoTab",{attrs:{errored:e.errored,options:e.options,saving:e.saving},on:{callback:function(t){e.errored=!1},onChange:e.onOptionsChange,onSave:e.onSaveOptions}})],1),o("a-tab-pane",{key:"post"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"form"}}),e._v("文章设置 ")],1),o("PostTab",{attrs:{errored:e.errored,options:e.options,saving:e.saving},on:{callback:function(t){e.errored=!1},onChange:e.onOptionsChange,onSave:e.onSaveOptions}})],1),o("a-tab-pane",{key:"comment"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"message"}}),e._v("评论设置 ")],1),o("CommentTab",{attrs:{errored:e.errored,options:e.options,saving:e.saving},on:{callback:function(t){e.errored=!1},onChange:e.onOptionsChange,onSave:e.onSaveOptions}})],1),o("a-tab-pane",{key:"attachment"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"picture"}}),e._v("附件设置 ")],1),o("AttachmentTab",{attrs:{errored:e.errored,options:e.options,saving:e.saving},on:{callback:function(t){e.errored=!1},onChange:e.onOptionsChange,onSave:e.onSaveOptions}})],1),o("a-tab-pane",{key:"smtp"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"mail"}}),e._v("SMTP 服务 ")],1),o("SmtpTab",{attrs:{errored:e.errored,options:e.options,saving:e.saving},on:{callback:function(t){e.errored=!1},onChange:e.onOptionsChange,onSave:e.onSaveOptions}})],1),o("a-tab-pane",{key:"other"},[o("span",{attrs:{slot:"tab"},slot:"tab"},[o("a-icon",{attrs:{type:"align-left"}}),e._v("其他设置 ")],1),o("OtherTab",{attrs:{errored:e.errored,options:e.options,saving:e.saving},on:{callback:function(t){e.errored=!1},onChange:e.onOptionsChange,onSave:e.onSaveOptions}})],1)],1)],1)])],1)],2)},a=[],n=o(54288),i=o(22373),r=(o(70315),o(23006)),l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("a-form-model",{ref:"generalOptionsForm",attrs:{model:e.options,rules:e.rules,wrapperCol:e.wrapperCol,layout:"vertical"}},[o("a-form-model-item",{attrs:{label:"博客标题：",prop:"blog_title"}},[o("a-input",{model:{value:e.options.blog_title,callback:function(t){e.$set(e.options,"blog_title",t)},expression:"options.blog_title"}})],1),o("a-form-model-item",{attrs:{label:"博客地址：",prop:"blog_url"}},[o("a-input",{attrs:{placeholder:"如：https://halo.run"},model:{value:e.options.blog_url,callback:function(t){e.$set(e.options,"blog_url",t)},expression:"options.blog_url"}})],1),o("a-form-model-item",{attrs:{label:"Logo：",prop:"blog_logo"}},[o("AttachmentInput",{attrs:{title:"选择 Logo"},model:{value:e.options.blog_logo,callback:function(t){e.$set(e.options,"blog_logo",t)},expression:"options.blog_logo"}})],1),o("a-form-model-item",{attrs:{label:"Favicon：",prop:"blog_favicon"}},[o("AttachmentInput",{attrs:{title:"选择 Favicon"},model:{value:e.options.blog_favicon,callback:function(t){e.$set(e.options,"blog_favicon",t)},expression:"options.blog_favicon"}})],1),o("a-form-model-item",{attrs:{label:"页脚信息：",prop:"blog_footer_info"}},[o("a-input",{attrs:{autoSize:{minRows:5},placeholder:"支持 HTML 格式的文本",type:"textarea"},model:{value:e.options.blog_footer_info,callback:function(t){e.$set(e.options,"blog_footer_info",t)},expression:"options.blog_footer_info"}})],1),o("a-form-model-item",[o("ReactiveButton",{attrs:{errored:e.errored,loading:e.saving,erroredText:"保存失败",loadedText:"保存成功",text:"保存",type:"primary"},on:{callback:function(t){return e.$emit("callback")},click:e.handleSaveOptions}})],1)],1)],1)},p=[],c={name:"GeneralTab",props:{options:{type:Object,required:!0},saving:{type:Boolean,default:!1},errored:{type:Boolean,default:!1}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}},rules:{blog_title:[{required:!0,message:"* 博客标题不能为空",trigger:["change"]},{max:1023,message:"* 字符数不能超过 1023",trigger:["change"]}],blog_url:[{required:!0,message:"* 博客地址不能为空",trigger:["change"]},{max:1023,message:"* 字符数不能超过 1023",trigger:["change"]}],blog_logo:[{max:1023,message:"* 字符数不能超过 1023",trigger:["change"]}],blog_favicon:[{max:1023,message:"* 字符数不能超过 1023",trigger:["change"]}],blog_footer_info:[{max:1023,message:"* 字符数不能超过 1023",trigger:["change"]}]}}},watch:{options:function(e){this.$emit("onChange",e)}},methods:{handleSaveOptions:function(){var e=this,t=this;t.$refs.generalOptionsForm.validate((function(t){t&&e.$emit("onSave")}))}}},m=c,u=o(70739),_=(0,u.Z)(m,l,p,!1,null,null,null),d=_.exports,b=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("a-form-model",{ref:"seoOptionsForm",attrs:{model:e.options,rules:e.rules,wrapperCol:e.wrapperCol,layout:"vertical"}},[o("a-form-model-item",{attrs:{label:"屏蔽搜索引擎：",prop:"seo_spider_disabled"}},[o("a-switch",{model:{value:e.options.seo_spider_disabled,callback:function(t){e.$set(e.options,"seo_spider_disabled",t)},expression:"options.seo_spider_disabled"}})],1),o("a-form-model-item",{attrs:{label:"关键词：",prop:"seo_keywords"}},[o("a-input",{attrs:{placeholder:"多个关键词以英文状态下的逗号隔开"},model:{value:e.options.seo_keywords,callback:function(t){e.$set(e.options,"seo_keywords",t)},expression:"options.seo_keywords"}})],1),o("a-form-model-item",{attrs:{label:"博客描述：",prop:"seo_description"}},[o("a-input",{attrs:{autoSize:{minRows:5},type:"textarea"},model:{value:e.options.seo_description,callback:function(t){e.$set(e.options,"seo_description",t)},expression:"options.seo_description"}})],1),o("a-form-model-item",[o("ReactiveButton",{attrs:{errored:e.errored,loading:e.saving,erroredText:"保存失败",loadedText:"保存成功",text:"保存",type:"primary"},on:{callback:function(t){return e.$emit("callback")},click:e.handleSaveOptions}})],1)],1)],1)},f=[],h={name:"SeoTab",props:{options:{type:Object,required:!0},saving:{type:Boolean,default:!1},errored:{type:Boolean,default:!1}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}},rules:{seo_keywords:[{max:1023,message:"* 字符数不能超过 1023",trigger:["change"]}],seo_description:[{max:1023,message:"* 字符数不能超过 1023",trigger:["change"]}]}}},watch:{options:function(e){this.$emit("onChange",e)}},methods:{handleSaveOptions:function(){var e=this,t=this;t.$refs.seoOptionsForm.validate((function(t){t&&e.$emit("onSave")}))}}},v=h,g=(0,u.Z)(v,b,f,!1,null,null,null),k=g.exports,y=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("a-form-model",{ref:"postOptionsForm",attrs:{model:e.options,rules:e.rules,wrapperCol:e.wrapperCol,layout:"vertical"}},[o("a-form-model-item",{attrs:{label:"首页文章排序："}},[o("a-select",{model:{value:e.options.post_index_sort,callback:function(t){e.$set(e.options,"post_index_sort",t)},expression:"options.post_index_sort"}},[o("a-select-option",{attrs:{value:"createTime"}},[e._v("创建时间")]),o("a-select-option",{attrs:{value:"editTime"}},[e._v("最后编辑时间")]),o("a-select-option",{attrs:{value:"visits"}},[e._v("点击量")])],1)],1),o("a-form-model-item",{attrs:{label:"首页每页文章条数："}},[o("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1},model:{value:e.options.post_index_page_size,callback:function(t){e.$set(e.options,"post_index_page_size",t)},expression:"options.post_index_page_size"}})],1),o("a-form-model-item",{attrs:{help:"* 包括标签所属文章页面、分类所属文章页面",label:"归档页面每页文章条数："}},[o("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1},model:{value:e.options.post_archives_page_size,callback:function(t){e.$set(e.options,"post_archives_page_size",t)},expression:"options.post_archives_page_size"}})],1),o("a-form-model-item",{attrs:{label:"RSS 内容类型："}},[o("a-select",{model:{value:e.options.rss_content_type,callback:function(t){e.$set(e.options,"rss_content_type",t)},expression:"options.rss_content_type"}},[o("a-select-option",{attrs:{value:"full"}},[e._v("全文")]),o("a-select-option",{attrs:{value:"summary"}},[e._v("摘要")])],1)],1),o("a-form-model-item",{attrs:{label:"RSS 内容条数："}},[o("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1},model:{value:e.options.rss_page_size,callback:function(t){e.$set(e.options,"rss_page_size",t)},expression:"options.rss_page_size"}})],1),o("a-form-model-item",{attrs:{label:"文章摘要字数："}},[o("a-input-number",{staticStyle:{width:"100%"},model:{value:e.options.post_summary_length,callback:function(t){e.$set(e.options,"post_summary_length",t)},expression:"options.post_summary_length"}})],1),o("a-form-model-item",{attrs:{label:"自动清理回收站文章："}},[o("a-switch",{model:{value:e.options.recycled_post_cleaning_enabled,callback:function(t){e.$set(e.options,"recycled_post_cleaning_enabled",t)},expression:"options.recycled_post_cleaning_enabled"}})],1),o("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:e.options.recycled_post_cleaning_enabled,expression:"options.recycled_post_cleaning_enabled"}],attrs:{label:"回收站文章保留时长："}},[o("a-input-group",{attrs:{compact:""}},[o("a-input-number",{staticStyle:{width:"70%"},attrs:{min:1,precision:0},model:{value:e.options.recycled_post_retention_time,callback:function(t){e.$set(e.options,"recycled_post_retention_time",t)},expression:"options.recycled_post_retention_time"}}),o("a-select",{staticStyle:{width:"30%"},model:{value:e.options.recycled_post_retention_timeunit,callback:function(t){e.$set(e.options,"recycled_post_retention_timeunit",t)},expression:"options.recycled_post_retention_timeunit"}},[o("a-select-option",{attrs:{value:"DAY"}},[e._v("天")]),o("a-select-option",{attrs:{value:"HOUR"}},[e._v("小时")])],1)],1)],1),o("a-form-model-item",[o("ReactiveButton",{attrs:{errored:e.errored,loading:e.saving,erroredText:"保存失败",loadedText:"保存成功",text:"保存",type:"primary"},on:{callback:function(t){return e.$emit("callback")},click:e.handleSaveOptions}})],1)],1)],1)},x=[],w={name:"PostTab",props:{options:{type:Object,required:!0},saving:{type:Boolean,default:!1},errored:{type:Boolean,default:!1}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}},rules:{}}},watch:{options:function(e){this.$emit("onChange",e)}},methods:{handleSaveOptions:function(){var e=this,t=this;t.$refs.postOptionsForm.validate((function(t){t&&e.$emit("onSave")}))}}},$=w,S=(0,u.Z)($,y,x,!1,null,null,null),O=S.exports,T=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("a-form-model",{ref:"commentOptionsForm",attrs:{model:e.options,rules:e.rules,wrapperCol:e.wrapperCol,layout:"vertical"}},[o("a-form-model-item",{attrs:{label:"评论者头像："}},[o("a-select",{model:{value:e.options.comment_gravatar_default,callback:function(t){e.$set(e.options,"comment_gravatar_default",t)},expression:"options.comment_gravatar_default"}},e._l(e.avatarTypes,(function(t,s){return o("a-select-option",{key:s,attrs:{value:t.value}},[o("a-avatar",{staticClass:"comment_select_gravatar",attrs:{size:18,src:e.options.gravatar_source+"?s=256&d="+t.value}}),e._v(" "+e._s(t.text)+" ")],1)})),1)],1),o("a-form-model-item",{attrs:{label:"评论审核后才显示："}},[o("a-switch",{model:{value:e.options.comment_new_need_check,callback:function(t){e.$set(e.options,"comment_new_need_check",t)},expression:"options.comment_new_need_check"}})],1),o("a-form-model-item",{attrs:{label:"新评论通知："}},[o("a-switch",{model:{value:e.options.comment_new_notice,callback:function(t){e.$set(e.options,"comment_new_notice",t)},expression:"options.comment_new_notice"}})],1),o("a-form-model-item",{attrs:{label:"评论回复通知对方："}},[o("a-switch",{model:{value:e.options.comment_reply_notice,callback:function(t){e.$set(e.options,"comment_reply_notice",t)},expression:"options.comment_reply_notice"}})],1),o("a-form-model-item",{attrs:{help:"* 关闭之后将无法进行评论",label:"API 评论开关："}},[o("a-switch",{model:{value:e.options.comment_api_enabled,callback:function(t){e.$set(e.options,"comment_api_enabled",t)},expression:"options.comment_api_enabled"}})],1),o("a-form-model-item",{attrs:{help:"* 该设置需要主题支持",label:"评论模块 JS："}},[o("a-input",{attrs:{autoSize:{minRows:2},type:"textarea"},model:{value:e.options.comment_internal_plugin_js,callback:function(t){e.$set(e.options,"comment_internal_plugin_js",t)},expression:"options.comment_internal_plugin_js"}})],1),o("a-form-model-item",{attrs:{help:"* 例如：//gravatar.com/avatar/",label:"Gravatar 镜像源："}},[o("a-input",{model:{value:e.options.gravatar_source,callback:function(t){e.$set(e.options,"gravatar_source",t)},expression:"options.gravatar_source"}})],1),o("a-form-model-item",{attrs:{label:"每页显示条数： "}},[o("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1},model:{value:e.options.comment_page_size,callback:function(t){e.$set(e.options,"comment_page_size",t)},expression:"options.comment_page_size"}})],1),o("a-form-model-item",{attrs:{label:"占位提示："}},[o("a-input",{model:{value:e.options.comment_content_placeholder,callback:function(t){e.$set(e.options,"comment_content_placeholder",t)},expression:"options.comment_content_placeholder"}})],1),o("a-form-model-item",[o("ReactiveButton",{attrs:{errored:e.errored,loading:e.saving,erroredText:"保存失败",loadedText:"保存成功",text:"保存",type:"primary"},on:{callback:function(t){return e.$emit("callback")},click:e.handleSaveOptions}})],1)],1)],1)},C=[],A=[{text:"默认",value:""},{text:"匿名者",value:"mm"},{text:"抽象几何图形",value:"identicon"},{text:"小怪物",value:"monsterid"},{text:"Wavatar",value:"wavatar"},{text:"复古",value:"retro"},{text:"机器人",value:"robohash"},{text:"不显示头像",value:"blank"}],B={name:"CommentTab",props:{options:{type:Object,required:!0},saving:{type:Boolean,default:!1},errored:{type:Boolean,default:!1}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}},rules:{},avatarTypes:A}},watch:{options:function(e){this.$emit("onChange",e)}},methods:{handleSaveOptions:function(){var e=this;if(!this.options.comment_new_notice&&!this.options.comment_reply_notice||this.options.email_enabled){var t=this;t.$refs.commentOptionsForm.validate((function(t){t&&e.$emit("onSave")}))}else this.$notification["error"]({message:"提示",description:"新评论通知或回复通知需要打开和配置 SMTP 服务！"})}}},P=B,q=(0,u.Z)(P,T,C,!1,null,"5cb11a90",null),E=q.exports,R=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("a-form-model",{ref:"attachmentOptionsForm",attrs:{model:e.options,rules:e.rules,wrapperCol:e.wrapperCol,layout:"vertical"}},[o("a-form-model-item",{attrs:{label:"上传图片时预览："}},[o("a-switch",{model:{value:e.options.attachment_upload_image_preview_enable,callback:function(t){e.$set(e.options,"attachment_upload_image_preview_enable",t)},expression:"options.attachment_upload_image_preview_enable"}})],1),o("a-form-model-item",{attrs:{label:"去除图片 EXIF 信息："}},[o("a-switch",{model:{value:e.options.attachment_EXIF_remove_enable,callback:function(t){e.$set(e.options,"attachment_EXIF_remove_enable",t)},expression:"options.attachment_EXIF_remove_enable"}})],1),o("a-form-model-item",{attrs:{label:"最大上传文件数："}},[o("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1},model:{value:e.options.attachment_upload_max_files,callback:function(t){e.$set(e.options,"attachment_upload_max_files",t)},expression:"options.attachment_upload_max_files"}})],1),o("a-form-model-item",{attrs:{label:"同时上传文件数："}},[o("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1},model:{value:e.options.attachment_upload_max_parallel_uploads,callback:function(t){e.$set(e.options,"attachment_upload_max_parallel_uploads",t)},expression:"options.attachment_upload_max_parallel_uploads"}})],1),o("a-form-model-item",{attrs:{label:"存储位置："}},[o("a-select",{model:{value:e.options.attachment_type,callback:function(t){e.$set(e.options,"attachment_type",t)},expression:"options.attachment_type"}},e._l(Object.keys(e.attachmentTypes),(function(t){return o("a-select-option",{key:t,attrs:{value:t}},[e._v(" "+e._s(e.attachmentTypes[t].text)+" ")])})),1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"SMMS"===e.options.attachment_type,expression:"options.attachment_type === 'SMMS'"}],attrs:{id:"smmsForm"}},[o("a-form-model-item",{attrs:{label:"Secret Token："}},[o("a-input-password",{attrs:{autocomplete:"new-password",placeholder:"需要到 sm.ms 官网注册后获取"},model:{value:e.options.smms_api_secret_token,callback:function(t){e.$set(e.options,"smms_api_secret_token",t)},expression:"options.smms_api_secret_token"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"UPOSS"===e.options.attachment_type,expression:"options.attachment_type === 'UPOSS'"}],attrs:{id:"upOssForm"}},[o("a-form-model-item",{attrs:{label:"绑定域名协议："}},[o("a-select",{model:{value:e.options.oss_upyun_domain_protocol,callback:function(t){e.$set(e.options,"oss_upyun_domain_protocol",t)},expression:"options.oss_upyun_domain_protocol"}},[o("a-select-option",{attrs:{value:"https://"}},[e._v("HTTPS")]),o("a-select-option",{attrs:{value:"http://"}},[e._v("HTTP")])],1)],1),o("a-form-model-item",{attrs:{label:"绑定域名："}},[o("a-input",{attrs:{placeholder:"无需再加上 http:// 或者 https://"},model:{value:e.options.oss_upyun_domain,callback:function(t){e.$set(e.options,"oss_upyun_domain",t)},expression:"options.oss_upyun_domain"}})],1),o("a-form-model-item",{attrs:{label:"空间名称："}},[o("a-input",{model:{value:e.options.oss_upyun_bucket,callback:function(t){e.$set(e.options,"oss_upyun_bucket",t)},expression:"options.oss_upyun_bucket"}})],1),o("a-form-model-item",{attrs:{label:"操作员名称："}},[o("a-input",{model:{value:e.options.oss_upyun_operator,callback:function(t){e.$set(e.options,"oss_upyun_operator",t)},expression:"options.oss_upyun_operator"}})],1),o("a-form-model-item",{attrs:{label:"操作员密码："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:e.options.oss_upyun_password,callback:function(t){e.$set(e.options,"oss_upyun_password",t)},expression:"options.oss_upyun_password"}})],1),o("a-form-model-item",{attrs:{label:"文件目录："}},[o("a-input",{model:{value:e.options.oss_upyun_source,callback:function(t){e.$set(e.options,"oss_upyun_source",t)},expression:"options.oss_upyun_source"}})],1),o("a-form-model-item",{attrs:{label:"图片处理策略："}},[o("a-input",{attrs:{placeholder:"间隔标识符+图片处理版本名称"},model:{value:e.options.oss_upyun_style_rule,callback:function(t){e.$set(e.options,"oss_upyun_style_rule",t)},expression:"options.oss_upyun_style_rule"}})],1),o("a-form-model-item",{attrs:{label:"缩略图处理策略："}},[o("a-input",{attrs:{placeholder:"间隔标识符+图片处理版本名称，一般为后台展示所用"},model:{value:e.options.oss_upyun_thumbnail_style_rule,callback:function(t){e.$set(e.options,"oss_upyun_thumbnail_style_rule",t)},expression:"options.oss_upyun_thumbnail_style_rule"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"QINIUOSS"===e.options.attachment_type,expression:"options.attachment_type === 'QINIUOSS'"}],attrs:{id:"qiniuOssForm"}},[o("a-form-model-item",{attrs:{label:"绑定域名协议："}},[o("a-select",{model:{value:e.options.oss_qiniu_domain_protocol,callback:function(t){e.$set(e.options,"oss_qiniu_domain_protocol",t)},expression:"options.oss_qiniu_domain_protocol"}},[o("a-select-option",{attrs:{value:"https://"}},[e._v("HTTPS")]),o("a-select-option",{attrs:{value:"http://"}},[e._v("HTTP")])],1)],1),o("a-form-model-item",{attrs:{label:"绑定域名："}},[o("a-input",{attrs:{placeholder:"无需再加上 http:// 或者 https://"},model:{value:e.options.oss_qiniu_domain,callback:function(t){e.$set(e.options,"oss_qiniu_domain",t)},expression:"options.oss_qiniu_domain"}})],1),o("a-form-model-item",{attrs:{label:"区域："}},[o("a-auto-complete",{attrs:{dataSource:e.qiniuOssZones,allowClear:""},model:{value:e.options.oss_qiniu_zone,callback:function(t){e.$set(e.options,"oss_qiniu_zone",t)},expression:"options.oss_qiniu_zone"}})],1),o("a-form-model-item",{attrs:{label:"Access Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:e.options.oss_qiniu_access_key,callback:function(t){e.$set(e.options,"oss_qiniu_access_key",t)},expression:"options.oss_qiniu_access_key"}})],1),o("a-form-model-item",{attrs:{label:"Secret Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:e.options.oss_qiniu_secret_key,callback:function(t){e.$set(e.options,"oss_qiniu_secret_key",t)},expression:"options.oss_qiniu_secret_key"}})],1),o("a-form-model-item",{attrs:{label:"文件目录："}},[o("a-input",{attrs:{placeholder:"不填写则上传到根目录"},model:{value:e.options.oss_qiniu_source,callback:function(t){e.$set(e.options,"oss_qiniu_source",t)},expression:"options.oss_qiniu_source"}})],1),o("a-form-model-item",{attrs:{label:"Bucket："}},[o("a-input",{attrs:{placeholder:"存储空间名称"},model:{value:e.options.oss_qiniu_bucket,callback:function(t){e.$set(e.options,"oss_qiniu_bucket",t)},expression:"options.oss_qiniu_bucket"}})],1),o("a-form-model-item",{attrs:{label:"图片处理策略："}},[o("a-input",{attrs:{placeholder:"样式分隔符+图片处理样式名称"},model:{value:e.options.oss_qiniu_style_rule,callback:function(t){e.$set(e.options,"oss_qiniu_style_rule",t)},expression:"options.oss_qiniu_style_rule"}})],1),o("a-form-model-item",{attrs:{label:"缩略图处理策略："}},[o("a-input",{attrs:{placeholder:"样式分隔符+图片处理样式名称，一般为后台展示所用"},model:{value:e.options.oss_qiniu_thumbnail_style_rule,callback:function(t){e.$set(e.options,"oss_qiniu_thumbnail_style_rule",t)},expression:"options.oss_qiniu_thumbnail_style_rule"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"ALIOSS"===e.options.attachment_type,expression:"options.attachment_type === 'ALIOSS'"}],attrs:{id:"aliOssForm"}},[o("a-form-model-item",{attrs:{label:"绑定域名协议："}},[o("a-select",{model:{value:e.options.oss_ali_domain_protocol,callback:function(t){e.$set(e.options,"oss_ali_domain_protocol",t)},expression:"options.oss_ali_domain_protocol"}},[o("a-select-option",{attrs:{value:"https://"}},[e._v("HTTPS")]),o("a-select-option",{attrs:{value:"http://"}},[e._v("HTTP")])],1)],1),o("a-form-model-item",{attrs:{label:"绑定域名："}},[o("a-input",{attrs:{placeholder:"如不填写，路径根域名将为 Bucket + EndPoint"},model:{value:e.options.oss_ali_domain,callback:function(t){e.$set(e.options,"oss_ali_domain",t)},expression:"options.oss_ali_domain"}})],1),o("a-form-model-item",{attrs:{label:"Bucket："}},[o("a-input",{attrs:{placeholder:"存储空间名称"},model:{value:e.options.oss_ali_bucket_name,callback:function(t){e.$set(e.options,"oss_ali_bucket_name",t)},expression:"options.oss_ali_bucket_name"}})],1),o("a-form-model-item",{attrs:{label:"EndPoint（地域节点）："}},[o("a-input",{model:{value:e.options.oss_ali_endpoint,callback:function(t){e.$set(e.options,"oss_ali_endpoint",t)},expression:"options.oss_ali_endpoint"}})],1),o("a-form-model-item",{attrs:{label:"Access Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:e.options.oss_ali_access_key,callback:function(t){e.$set(e.options,"oss_ali_access_key",t)},expression:"options.oss_ali_access_key"}})],1),o("a-form-model-item",{attrs:{label:"Access Secret："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:e.options.oss_ali_access_secret,callback:function(t){e.$set(e.options,"oss_ali_access_secret",t)},expression:"options.oss_ali_access_secret"}})],1),o("a-form-model-item",{attrs:{label:"文件目录："}},[o("a-input",{attrs:{placeholder:"不填写则上传到根目录"},model:{value:e.options.oss_ali_source,callback:function(t){e.$set(e.options,"oss_ali_source",t)},expression:"options.oss_ali_source"}})],1),o("a-form-model-item",{attrs:{label:"图片处理策略："}},[o("a-input",{attrs:{placeholder:"请到阿里云控制台的图片处理获取"},model:{value:e.options.oss_ali_style_rule,callback:function(t){e.$set(e.options,"oss_ali_style_rule",t)},expression:"options.oss_ali_style_rule"}})],1),o("a-form-model-item",{attrs:{label:"缩略图处理策略："}},[o("a-input",{attrs:{placeholder:"请到阿里云控制台的图片处理获取，一般为后台展示所用"},model:{value:e.options.oss_ali_thumbnail_style_rule,callback:function(t){e.$set(e.options,"oss_ali_thumbnail_style_rule",t)},expression:"options.oss_ali_thumbnail_style_rule"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"BAIDUBOS"===e.options.attachment_type,expression:"options.attachment_type === 'BAIDUBOS'"}],attrs:{id:"baiduBosForm"}},[o("a-form-model-item",{attrs:{label:"绑定域名协议："}},[o("a-select",{model:{value:e.options.bos_baidu_domain_protocol,callback:function(t){e.$set(e.options,"bos_baidu_domain_protocol",t)},expression:"options.bos_baidu_domain_protocol"}},[o("a-select-option",{attrs:{value:"https://"}},[e._v("HTTPS")]),o("a-select-option",{attrs:{value:"http://"}},[e._v("HTTP")])],1)],1),o("a-form-model-item",{attrs:{label:"绑定域名："}},[o("a-input",{attrs:{placeholder:"如不填写，路径根域名将为 Bucket + EndPoint"},model:{value:e.options.bos_baidu_domain,callback:function(t){e.$set(e.options,"bos_baidu_domain",t)},expression:"options.bos_baidu_domain"}})],1),o("a-form-model-item",{attrs:{label:"Bucket："}},[o("a-input",{attrs:{placeholder:"存储空间名称"},model:{value:e.options.bos_baidu_bucket_name,callback:function(t){e.$set(e.options,"bos_baidu_bucket_name",t)},expression:"options.bos_baidu_bucket_name"}})],1),o("a-form-model-item",{attrs:{label:"EndPoint（地域节点）："}},[o("a-input",{model:{value:e.options.bos_baidu_endpoint,callback:function(t){e.$set(e.options,"bos_baidu_endpoint",t)},expression:"options.bos_baidu_endpoint"}})],1),o("a-form-model-item",{attrs:{label:"Access Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:e.options.bos_baidu_access_key,callback:function(t){e.$set(e.options,"bos_baidu_access_key",t)},expression:"options.bos_baidu_access_key"}})],1),o("a-form-model-item",{attrs:{label:"Secret Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:e.options.bos_baidu_secret_key,callback:function(t){e.$set(e.options,"bos_baidu_secret_key",t)},expression:"options.bos_baidu_secret_key"}})],1),o("a-form-model-item",{attrs:{label:"图片处理策略："}},[o("a-input",{attrs:{placeholder:"请到百度云控制台的图片处理获取"},model:{value:e.options.bos_baidu_style_rule,callback:function(t){e.$set(e.options,"bos_baidu_style_rule",t)},expression:"options.bos_baidu_style_rule"}})],1),o("a-form-model-item",{attrs:{label:"缩略图处理策略："}},[o("a-input",{attrs:{placeholder:"请到百度云控制台的图片处理获取，一般为后台展示所用"},model:{value:e.options.bos_baidu_thumbnail_style_rule,callback:function(t){e.$set(e.options,"bos_baidu_thumbnail_style_rule",t)},expression:"options.bos_baidu_thumbnail_style_rule"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"TENCENTCOS"===e.options.attachment_type,expression:"options.attachment_type === 'TENCENTCOS'"}],attrs:{id:"tencentCosForm"}},[o("a-form-model-item",{attrs:{label:"绑定域名协议："}},[o("a-select",{model:{value:e.options.cos_tencent_domain_protocol,callback:function(t){e.$set(e.options,"cos_tencent_domain_protocol",t)},expression:"options.cos_tencent_domain_protocol"}},[o("a-select-option",{attrs:{value:"https://"}},[e._v("HTTPS")]),o("a-select-option",{attrs:{value:"http://"}},[e._v("HTTP")])],1)],1),o("a-form-model-item",{attrs:{label:"绑定域名："}},[o("a-input",{attrs:{placeholder:"如不填写，路径根域名将为 Bucket + 区域地址"},model:{value:e.options.cos_tencent_domain,callback:function(t){e.$set(e.options,"cos_tencent_domain",t)},expression:"options.cos_tencent_domain"}})],1),o("a-form-model-item",{attrs:{label:"Bucket："}},[o("a-input",{attrs:{placeholder:"存储桶名称"},model:{value:e.options.cos_tencent_bucket_name,callback:function(t){e.$set(e.options,"cos_tencent_bucket_name",t)},expression:"options.cos_tencent_bucket_name"}})],1),o("a-form-model-item",{attrs:{label:"区域："}},[o("a-auto-complete",{attrs:{dataSource:e.tencentCosRegions,allowClear:""},model:{value:e.options.cos_tencent_region,callback:function(t){e.$set(e.options,"cos_tencent_region",t)},expression:"options.cos_tencent_region"}})],1),o("a-form-model-item",{attrs:{label:"Secret Id："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:e.options.cos_tencent_secret_id,callback:function(t){e.$set(e.options,"cos_tencent_secret_id",t)},expression:"options.cos_tencent_secret_id"}})],1),o("a-form-model-item",{attrs:{label:"Secret Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:e.options.cos_tencent_secret_key,callback:function(t){e.$set(e.options,"cos_tencent_secret_key",t)},expression:"options.cos_tencent_secret_key"}})],1),o("a-form-model-item",{attrs:{label:"文件目录："}},[o("a-input",{attrs:{placeholder:"不填写则上传到根目录"},model:{value:e.options.cos_tencent_source,callback:function(t){e.$set(e.options,"cos_tencent_source",t)},expression:"options.cos_tencent_source"}})],1),o("a-form-model-item",{attrs:{label:"图片处理策略："}},[o("a-input",{attrs:{placeholder:"请到腾讯云控制台的图片处理获取"},model:{value:e.options.cos_tencent_style_rule,callback:function(t){e.$set(e.options,"cos_tencent_style_rule",t)},expression:"options.cos_tencent_style_rule"}})],1),o("a-form-model-item",{attrs:{label:"缩略图处理策略："}},[o("a-input",{attrs:{placeholder:"请到腾讯云控制台的图片处理获取，一般为后台展示所用"},model:{value:e.options.cos_tencent_thumbnail_style_rule,callback:function(t){e.$set(e.options,"cos_tencent_thumbnail_style_rule",t)},expression:"options.cos_tencent_thumbnail_style_rule"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"HUAWEIOBS"===e.options.attachment_type,expression:"options.attachment_type === 'HUAWEIOBS'"}],attrs:{id:"huaweiObsForm"}},[o("a-form-model-item",{attrs:{label:"绑定域名协议："}},[o("a-select",{model:{value:e.options.obs_huawei_domain_protocol,callback:function(t){e.$set(e.options,"obs_huawei_domain_protocol",t)},expression:"options.obs_huawei_domain_protocol"}},[o("a-select-option",{attrs:{value:"https://"}},[e._v("HTTPS")]),o("a-select-option",{attrs:{value:"http://"}},[e._v("HTTP")])],1)],1),o("a-form-model-item",{attrs:{label:"绑定域名："}},[o("a-input",{attrs:{placeholder:"如不填写，路径根域名将为 Bucket + EndPoint"},model:{value:e.options.obs_huawei_domain,callback:function(t){e.$set(e.options,"obs_huawei_domain",t)},expression:"options.obs_huawei_domain"}})],1),o("a-form-model-item",{attrs:{label:"Bucket（桶名称）："}},[o("a-input",{attrs:{placeholder:"桶名称"},model:{value:e.options.obs_huawei_bucket_name,callback:function(t){e.$set(e.options,"obs_huawei_bucket_name",t)},expression:"options.obs_huawei_bucket_name"}})],1),o("a-form-model-item",{attrs:{label:"EndPoint（终端节点）："}},[o("a-input",{attrs:{placeholder:"Endpoint"},model:{value:e.options.obs_huawei_endpoint,callback:function(t){e.$set(e.options,"obs_huawei_endpoint",t)},expression:"options.obs_huawei_endpoint"}})],1),o("a-form-model-item",{attrs:{label:"Access Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:e.options.obs_huawei_access_key,callback:function(t){e.$set(e.options,"obs_huawei_access_key",t)},expression:"options.obs_huawei_access_key"}})],1),o("a-form-model-item",{attrs:{label:"Access Secret："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:e.options.obs_huawei_access_secret,callback:function(t){e.$set(e.options,"obs_huawei_access_secret",t)},expression:"options.obs_huawei_access_secret"}})],1),o("a-form-model-item",{attrs:{label:"文件目录："}},[o("a-input",{attrs:{placeholder:"不填写则上传到根目录"},model:{value:e.options.obs_huawei_source,callback:function(t){e.$set(e.options,"obs_huawei_source",t)},expression:"options.obs_huawei_source"}})],1),o("a-form-model-item",{attrs:{label:"图片处理策略："}},[o("a-input",{attrs:{placeholder:"请到华为云控制台的图片处理创建"},model:{value:e.options.obs_huawei_style_rule,callback:function(t){e.$set(e.options,"obs_huawei_style_rule",t)},expression:"options.obs_huawei_style_rule"}})],1),o("a-form-model-item",{attrs:{label:"缩略图处理策略："}},[o("a-input",{attrs:{placeholder:"请到华为云控制台的图片处理获取，一般为后台展示所用"},model:{value:e.options.obs_huawei_thumbnail_style_rule,callback:function(t){e.$set(e.options,"obs_huawei_thumbnail_style_rule",t)},expression:"options.obs_huawei_thumbnail_style_rule"}})],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"MINIO"===e.options.attachment_type,expression:"options.attachment_type === 'MINIO'"}],attrs:{id:"minioForm"}},[o("a-form-model-item",{attrs:{label:"EndPoint（终端节点）："}},[o("a-input",{attrs:{placeholder:"Endpoint"},model:{value:e.options.minio_endpoint,callback:function(t){e.$set(e.options,"minio_endpoint",t)},expression:"options.minio_endpoint"}})],1),o("a-form-model-item",{attrs:{label:"Bucket（桶名称）："}},[o("a-input",{attrs:{placeholder:"桶名称"},model:{value:e.options.minio_bucket_name,callback:function(t){e.$set(e.options,"minio_bucket_name",t)},expression:"options.minio_bucket_name"}})],1),o("a-form-model-item",{attrs:{label:"Region（区域）："}},[o("a-input",{attrs:{placeholder:"区域"},model:{value:e.options.minio_region,callback:function(t){e.$set(e.options,"minio_region",t)},expression:"options.minio_region"}})],1),o("a-form-model-item",{attrs:{label:"Access Key："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:e.options.minio_access_key,callback:function(t){e.$set(e.options,"minio_access_key",t)},expression:"options.minio_access_key"}})],1),o("a-form-model-item",{attrs:{label:"Access Secret："}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:e.options.minio_access_secret,callback:function(t){e.$set(e.options,"minio_access_secret",t)},expression:"options.minio_access_secret"}})],1),o("a-form-model-item",{attrs:{label:"文件目录："}},[o("a-input",{attrs:{placeholder:"不填写则上传到根目录"},model:{value:e.options.minio_source,callback:function(t){e.$set(e.options,"minio_source",t)},expression:"options.minio_source"}})],1)],1),o("a-form-model-item",[o("ReactiveButton",{attrs:{errored:e.errored,loading:e.saving,erroredText:"保存失败",loadedText:"保存成功",text:"保存",type:"primary"},on:{callback:function(t){return e.$emit("callback")},click:e.handleSaveOptions}})],1)],1)],1)},I=[],F=o(43376),D=[{text:"北京一区",value:"ap-beijing-1"},{text:"北京",value:"ap-beijing"},{text:"上海（华东）",value:"ap-shanghai"},{text:"广州（华南）",value:"ap-guangzhou"},{text:"成都（西南）",value:"ap-chengdu"},{text:"重庆",value:"ap-chongqing"}],N=[{text:"自动选择",value:"auto"},{text:"华东",value:"z0"},{text:"华北",value:"z1"},{text:"华南",value:"z2"},{text:"北美",value:"na0"},{text:"东南亚",value:"as0"}],j={name:"AttachmentTab",props:{options:{type:Object,required:!0},saving:{type:Boolean,default:!1},errored:{type:Boolean,default:!1}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}},tencentCosRegions:D,qiniuOssZones:N,attachmentTypes:F.k,rules:{}}},watch:{options:function(e){this.$emit("onChange",e)}},methods:{handleSaveOptions:function(){var e=this;switch(this.options.attachment_type){case"SMMS":if(!this.options.smms_api_secret_token)return void this.$notification["error"]({message:"提示",description:"Secret Token 不能为空！"});break;case"UPOSS":if(!this.options.oss_upyun_domain)return void this.$notification["error"]({message:"提示",description:"绑定域名不能为空！"});if(!this.options.oss_upyun_bucket)return void this.$notification["error"]({message:"提示",description:"空间名称不能为空！"});if(!this.options.oss_upyun_operator)return void this.$notification["error"]({message:"提示",description:"操作员名称不能为空！"});if(!this.options.oss_upyun_password)return void this.$notification["error"]({message:"提示",description:"操作员密码不能为空！"});if(!this.options.oss_upyun_source)return void this.$notification["error"]({message:"提示",description:"文件目录不能为空！"});break;case"QINIUOSS":if(!this.options.oss_qiniu_domain)return void this.$notification["error"]({message:"提示",description:"绑定域名不能为空！"});if(!this.options.oss_qiniu_access_key)return void this.$notification["error"]({message:"提示",description:"Access Key 不能为空！"});if(!this.options.oss_qiniu_secret_key)return void this.$notification["error"]({message:"提示",description:"Secret Key 不能为空！"});if(!this.options.oss_qiniu_bucket)return void this.$notification["error"]({message:"提示",description:"Bucket 不能为空！"});break;case"ALIOSS":if(!this.options.oss_ali_bucket_name)return void this.$notification["error"]({message:"提示",description:"Bucket 不能为空！"});if(!this.options.oss_ali_endpoint)return void this.$notification["error"]({message:"提示",description:"EndPoint（地域节点） 不能为空！"});if(!this.options.oss_ali_access_key)return void this.$notification["error"]({message:"提示",description:"Access Key 不能为空！"});if(!this.options.oss_ali_access_secret)return void this.$notification["error"]({message:"提示",description:"Access Secret 不能为空！"});break;case"BAIDUBOS":if(!this.options.bos_baidu_bucket_name)return void this.$notification["error"]({message:"提示",description:"Bucket 不能为空！"});if(!this.options.bos_baidu_endpoint)return void this.$notification["error"]({message:"提示",description:"EndPoint（地域节点） 不能为空！"});if(!this.options.bos_baidu_access_key)return void this.$notification["error"]({message:"提示",description:"Access Key 不能为空！"});if(!this.options.bos_baidu_secret_key)return void this.$notification["error"]({message:"提示",description:"Secret Key 不能为空！"});break;case"TENCENTCOS":if(!this.options.cos_tencent_bucket_name)return void this.$notification["error"]({message:"提示",description:"Bucket 不能为空！"});if(!this.options.cos_tencent_region)return void this.$notification["error"]({message:"提示",description:"区域不能为空！"});if(!this.options.cos_tencent_secret_id)return void this.$notification["error"]({message:"提示",description:"Secret Id 不能为空！"});if(!this.options.cos_tencent_secret_key)return void this.$notification["error"]({message:"提示",description:"Secret Key 不能为空！"});break;case"HUAWEIOBS":if(!this.options.obs_huawei_bucket_name)return void this.$notification["error"]({message:"提示",description:"Bucket 不能为空！"});if(!this.options.obs_huawei_endpoint)return void this.$notification["error"]({message:"提示",description:"EndPoint（终端节点） 不能为空！"});if(!this.options.obs_huawei_access_key)return void this.$notification["error"]({message:"提示",description:"Access Key 不能为空！"});if(!this.options.obs_huawei_access_secret)return void this.$notification["error"]({message:"提示",description:"Access Secret 不能为空！"});break;case"MINIO":if(!this.options.minio_endpoint)return void this.$notification["error"]({message:"提示",description:"EndPoint（终端节点）不能为空！"});if(!this.options.minio_bucket_name)return void this.$notification["error"]({message:"提示",description:"Bucket 不能为空！"});if(!this.options.minio_access_key)return void this.$notification["error"]({message:"提示",description:"Access Key 不能为空！"});if(!this.options.minio_access_secret)return void this.$notification["error"]({message:"提示",description:"Access Secret 不能为空！"});break}var t=this;t.$refs.attachmentOptionsForm.validate((function(t){t&&e.$emit("onSave")}))}}},z=j,Z=(0,u.Z)(z,R,I,!1,null,null,null),U=Z.exports,L=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"custom-tab-wrapper"},[o("a-tabs",{attrs:{animated:{inkBar:!0,tabPane:!1}}},[o("a-tab-pane",{key:"smtpoptions",attrs:{tab:"发信设置"}},[o("a-form-model",{ref:"smtpOptionsForm",attrs:{model:e.options,rules:e.rules,wrapperCol:e.wrapperCol,layout:"vertical"}},[o("a-form-model-item",{attrs:{label:"是否启用："}},[o("a-switch",{model:{value:e.options.email_enabled,callback:function(t){e.$set(e.options,"email_enabled",t)},expression:"options.email_enabled"}})],1),o("a-form-model-item",{attrs:{label:"SMTP 地址：",prop:"email_host"}},[o("a-input",{model:{value:e.options.email_host,callback:function(t){e.$set(e.options,"email_host",t)},expression:"options.email_host"}})],1),o("a-form-model-item",{attrs:{label:"发送协议：",prop:"email_protocol"}},[o("a-input",{model:{value:e.options.email_protocol,callback:function(t){e.$set(e.options,"email_protocol",t)},expression:"options.email_protocol"}})],1),o("a-form-model-item",{attrs:{label:"启用 STARTTLS："}},[o("a-switch",{model:{value:e.options.email_starttls,callback:function(t){e.$set(e.options,"email_starttls",t)},expression:"options.email_starttls"}})],1),o("a-form-model-item",{attrs:{label:"SSL 端口：",prop:"email_ssl_port"}},[o("a-input",{model:{value:e.options.email_ssl_port,callback:function(t){e.$set(e.options,"email_ssl_port",t)},expression:"options.email_ssl_port"}})],1),o("a-form-model-item",{attrs:{label:"邮箱账号：",prop:"email_username"}},[o("a-input",{model:{value:e.options.email_username,callback:function(t){e.$set(e.options,"email_username",t)},expression:"options.email_username"}})],1),o("a-form-model-item",{attrs:{label:"邮箱密码：",prop:"email_password"}},[o("a-input-password",{attrs:{autocomplete:"new-password",placeholder:"部分邮箱可能是授权码"},model:{value:e.options.email_password,callback:function(t){e.$set(e.options,"email_password",t)},expression:"options.email_password"}})],1),o("a-form-model-item",{attrs:{label:"发件人：",prop:"email_from_name"}},[o("a-input",{model:{value:e.options.email_from_name,callback:function(t){e.$set(e.options,"email_from_name",t)},expression:"options.email_from_name"}})],1),o("a-form-model-item",[o("ReactiveButton",{attrs:{errored:e.errored,loading:e.saving,erroredText:"保存失败",loadedText:"保存成功",text:"保存",type:"primary"},on:{callback:function(t){return e.$emit("callback")},click:e.handleSaveOptions}})],1)],1)],1),o("a-tab-pane",{key:"smtptest",attrs:{tab:"发送测试"}},[o("a-form-model",{ref:"smtpTestForm",attrs:{model:e.mailParam,rules:e.testRules,wrapperCol:e.wrapperCol,layout:"vertical"}},[o("a-form-model-item",{attrs:{label:"收件人地址：",prop:"to"}},[o("a-input",{model:{value:e.mailParam.to,callback:function(t){e.$set(e.mailParam,"to",t)},expression:"mailParam.to"}})],1),o("a-form-model-item",{attrs:{label:"主题：",prop:"subject"}},[o("a-input",{model:{value:e.mailParam.subject,callback:function(t){e.$set(e.mailParam,"subject",t)},expression:"mailParam.subject"}})],1),o("a-form-model-item",{attrs:{label:"内容：",prop:"content"}},[o("a-input",{attrs:{autoSize:{minRows:5},type:"textarea"},model:{value:e.mailParam.content,callback:function(t){e.$set(e.mailParam,"content",t)},expression:"mailParam.content"}})],1),o("a-form-model-item",[o("ReactiveButton",{attrs:{errored:e.sendErrored,loading:e.sending,erroredText:"发送失败",loadedText:"发送成功",text:"发送",type:"primary"},on:{callback:function(t){e.sendErrored=!1},click:e.handleTestMailClick}})],1)],1)],1)],1)],1)},M=[],H=(o(31875),o(36591)),K={name:"SmtpTab",props:{options:{type:Object,required:!0},saving:{type:Boolean,default:!1},errored:{type:Boolean,default:!1}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}},mailParam:{},sending:!1,sendErrored:!1,testRules:{to:[{required:!0,message:"* 收件人地址不能为空",trigger:["change"]}],subject:[{required:!0,message:"* 主题不能为空",trigger:["change"]}],content:[{required:!0,message:"* 内容不能为空",trigger:["change"]}]}}},watch:{options:function(e){this.$emit("onChange",e)}},computed:{rules:function(){var e=this.options.email_enabled;return{email_host:[{required:e,message:"* SMTP 地址不能为空",trigger:["change"]}],email_protocol:[{required:e,message:"* 发送协议不能为空",trigger:["change"]}],email_ssl_port:[{required:e,message:"* SSL 端口不能为空",trigger:["change"]}],email_username:[{required:e,message:"* 邮箱账号不能为空",trigger:["change"]},{type:"email",message:"* 邮箱账号格式不正确",trigger:["change"]}],email_password:[{required:e,message:"* 邮箱密码不能为空",trigger:["change"]}],email_from_name:[{required:e,message:"* 发件人不能为空",trigger:["change"]}]}}},methods:{handleSaveOptions:function(){var e=this;e.$refs.smtpOptionsForm.validate((function(t){t&&e.$emit("onSave")}))},handleTestMailClick:function(){var e=this,t=this;t.$refs.smtpTestForm.validate((function(t){t&&(e.sending=!0,H.Z.mail.testSmtpService(e.mailParam).then((function(t){e.$message.info(t.message)})).catch((function(){e.sendErrored=!0})).finally((function(){setTimeout((function(){e.sending=!1}),400)})))}))}}},Y=K,G=(0,u.Z)(Y,L,M,!1,null,null,null),W=G.exports,X=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("a-form-model",{ref:"otherOptionsForm",attrs:{model:e.options,rules:e.rules,wrapperCol:e.wrapperCol,layout:"vertical"}},[o("a-form-model-item",{attrs:{label:"自定义全局 head："}},[o("a-input",{attrs:{autoSize:{minRows:5},placeholder:"放置于每个页面的 <head></head> 标签中",type:"textarea"},model:{value:e.options.blog_custom_head,callback:function(t){e.$set(e.options,"blog_custom_head",t)},expression:"options.blog_custom_head"}})],1),o("a-form-model-item",{attrs:{label:"自定义内容页 head："}},[o("a-input",{attrs:{autoSize:{minRows:5},placeholder:"仅放置于内容页面的 <head></head> 标签中",type:"textarea"},model:{value:e.options.blog_custom_content_head,callback:function(t){e.$set(e.options,"blog_custom_content_head",t)},expression:"options.blog_custom_content_head"}})],1),o("a-form-model-item",{attrs:{label:"统计代码："}},[o("a-input",{attrs:{autoSize:{minRows:5},placeholder:"第三方网站统计的代码，如：Google Analytics、百度统计、CNZZ 等",type:"textarea"},model:{value:e.options.blog_statistics_code,callback:function(t){e.$set(e.options,"blog_statistics_code",t)},expression:"options.blog_statistics_code"}})],1),o("a-form-model-item",[o("ReactiveButton",{attrs:{errored:e.errored,loading:e.saving,erroredText:"保存失败",loadedText:"保存成功",text:"保存",type:"primary"},on:{callback:function(t){return e.$emit("callback")},click:e.handleSaveOptions}})],1)],1)],1)},Q=[],V={name:"OtherTab",props:{options:{type:Object,required:!0},saving:{type:Boolean,default:!1},errored:{type:Boolean,default:!1}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}},rules:{}}},watch:{options:function(e){this.$emit("onChange",e)}},methods:{handleSaveOptions:function(){var e=this,t=this;t.$refs.otherOptionsForm.validate((function(t){t&&e.$emit("onSave")}))}}},J=V,ee=(0,u.Z)(J,X,Q,!1,null,null,null),te=ee.exports,oe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("a-form-model",{ref:"permalinkOptionsForm",attrs:{model:e.options,rules:e.rules,wrapperCol:e.wrapperCol,layout:"vertical"}},[o("a-form-model-item",{attrs:{label:"文章固定链接类型："}},[o("template",{slot:"help"},["DEFAULT"===e.options.post_permalink_type?o("span",[e._v(e._s(e.options.blog_url)+"/"+e._s(e.options.archives_prefix)+"/{slug}"+e._s(e.options.path_suffix))]):"YEAR"===e.options.post_permalink_type?o("span",[e._v(e._s(e.options.blog_url)+e._s(e._f("moment_post_year")(new Date))+"{slug}"+e._s(e.options.path_suffix))]):"DATE"===e.options.post_permalink_type?o("span",[e._v(e._s(e.options.blog_url)+e._s(e._f("moment_post_date")(new Date))+"{slug}"+e._s(e.options.path_suffix))]):"DAY"===e.options.post_permalink_type?o("span",[e._v(e._s(e.options.blog_url)+e._s(e._f("moment_post_day")(new Date))+"{slug}"+e._s(e.options.path_suffix))]):"ID"===e.options.post_permalink_type?o("span",[e._v(e._s(e.options.blog_url)+"/?p={id}")]):"ID_SLUG"===e.options.post_permalink_type?o("span",[e._v(e._s(e.options.blog_url)+"/"+e._s(e.options.archives_prefix)+"/{id}"+e._s(e.options.path_suffix))]):e._e()]),o("a-select",{model:{value:e.options.post_permalink_type,callback:function(t){e.$set(e.options,"post_permalink_type",t)},expression:"options.post_permalink_type"}},e._l(Object.keys(e.postPermalinkType),(function(t){return o("a-select-option",{key:t,attrs:{value:t}},[e._v(e._s(e.postPermalinkType[t].text)+" ")])})),1)],2),o("a-form-model-item",{attrs:{label:"归档前缀："}},[o("template",{slot:"help"},[o("span",[e._v(e._s(e.options.blog_url)+"/"+e._s(e.options.archives_prefix)+e._s(e.options.path_suffix))])]),o("a-input",{model:{value:e.options.archives_prefix,callback:function(t){e.$set(e.options,"archives_prefix",t)},expression:"options.archives_prefix"}})],2),o("a-form-model-item",{attrs:{label:"分类前缀："}},[o("template",{slot:"help"},[o("span",[e._v(e._s(e.options.blog_url)+"/"+e._s(e.options.categories_prefix)+"/{slug}"+e._s(e.options.path_suffix))])]),o("a-input",{model:{value:e.options.categories_prefix,callback:function(t){e.$set(e.options,"categories_prefix",t)},expression:"options.categories_prefix"}})],2),o("a-form-model-item",{attrs:{label:"标签前缀："}},[o("template",{slot:"help"},[o("span",[e._v(e._s(e.options.blog_url)+"/"+e._s(e.options.tags_prefix)+"/{slug}"+e._s(e.options.path_suffix))])]),o("a-input",{model:{value:e.options.tags_prefix,callback:function(t){e.$set(e.options,"tags_prefix",t)},expression:"options.tags_prefix"}})],2),o("a-form-model-item",{attrs:{label:"自定义页面固定链接类型："}},[o("template",{slot:"help"},["SECONDARY"===e.options.sheet_permalink_type?o("span",[e._v(e._s(e.options.blog_url)+"/"+e._s(e.options.sheet_prefix)+"/{slug}"+e._s(e.options.path_suffix))]):"ROOT"===e.options.sheet_permalink_type?o("span",[e._v(e._s(e.options.blog_url)+"/{slug}"+e._s(e.options.path_suffix))]):e._e()]),o("a-select",{model:{value:e.options.sheet_permalink_type,callback:function(t){e.$set(e.options,"sheet_permalink_type",t)},expression:"options.sheet_permalink_type"}},e._l(Object.keys(e.sheetPermalinkType),(function(t){return o("a-select-option",{key:t,attrs:{value:t}},[e._v(e._s(e.sheetPermalinkType[t].text)+" ")])})),1)],2),o("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:"SECONDARY"===e.options.sheet_permalink_type,expression:"options.sheet_permalink_type === 'SECONDARY'"}],attrs:{label:"自定义页面前缀："}},[o("template",{slot:"help"},[o("span",[e._v(e._s(e.options.blog_url)+"/"+e._s(e.options.sheet_prefix)+"/{slug}"+e._s(e.options.path_suffix))])]),o("a-input",{model:{value:e.options.sheet_prefix,callback:function(t){e.$set(e.options,"sheet_prefix",t)},expression:"options.sheet_prefix"}})],2),o("a-form-model-item",{attrs:{label:"友情链接页面前缀："}},[o("template",{slot:"help"},[o("span",[e._v(e._s(e.options.blog_url)+"/"+e._s(e.options.links_prefix)+e._s(e.options.path_suffix))])]),o("a-input",{model:{value:e.options.links_prefix,callback:function(t){e.$set(e.options,"links_prefix",t)},expression:"options.links_prefix"}})],2),o("a-form-model-item",{attrs:{label:"图库页面前缀："}},[o("template",{slot:"help"},[o("span",[e._v(e._s(e.options.blog_url)+"/"+e._s(e.options.photos_prefix)+e._s(e.options.path_suffix))])]),o("a-input",{model:{value:e.options.photos_prefix,callback:function(t){e.$set(e.options,"photos_prefix",t)},expression:"options.photos_prefix"}})],2),o("a-form-model-item",{attrs:{label:"日志页面前缀："}},[o("template",{slot:"help"},[o("span",[e._v(e._s(e.options.blog_url)+"/"+e._s(e.options.journals_prefix)+e._s(e.options.path_suffix))])]),o("a-input",{model:{value:e.options.journals_prefix,callback:function(t){e.$set(e.options,"journals_prefix",t)},expression:"options.journals_prefix"}})],2),o("a-form-model-item",{attrs:{label:"路径后缀："}},[o("template",{slot:"help"},[o("span",[e._v("* 格式为："),o("code",[e._v(".{suffix}")]),e._v("，仅对内建路径有效")])]),o("a-input",{model:{value:e.options.path_suffix,callback:function(t){e.$set(e.options,"path_suffix",t)},expression:"options.path_suffix"}})],2),o("a-form-model-item",[o("ReactiveButton",{attrs:{errored:e.errored,loading:e.saving,erroredText:"保存失败",loadedText:"保存成功",text:"保存",type:"primary"},on:{callback:function(t){return e.$emit("callback")},click:e.handleSaveOptions}})],1)],1)],1)},se=[],ae={name:"PermalinkTab",props:{options:{type:Object,required:!0},saving:{type:Boolean,default:!1},errored:{type:Boolean,default:!1}},data:function(){return{postPermalinkType:{DEFAULT:{type:"DEFAULT",text:"默认"},YEAR:{type:"YEAR",text:"年份型"},DATE:{type:"DATE",text:"年月型"},DAY:{type:"DAY",text:"年月日型"},ID:{type:"ID",text:"ID 型"},ID_SLUG:{type:"ID_SLUG",text:"ID 别名型"}},sheetPermalinkType:{SECONDARY:{type:"SECONDARY",text:"二级路径"},ROOT:{type:"ROOT",text:"根路径"}},wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}},rules:{}}},watch:{options:function(e){this.$emit("onChange",e)}},methods:{handleSaveOptions:function(){var e=this,t=this;t.$refs.permalinkOptionsForm.validate((function(t){t&&e.$emit("onSave")}))}}},ne=ae,ie=(0,u.Z)(ne,oe,se,!1,null,null,null),re=ie.exports,le=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("a-form-model",{ref:"apiOptionsForm",attrs:{model:e.options,rules:e.rules,wrapperCol:e.wrapperCol,layout:"vertical"}},[o("a-form-model-item",{attrs:{label:"API 服务："}},[o("a-switch",{model:{value:e.options.api_enabled,callback:function(t){e.$set(e.options,"api_enabled",t)},expression:"options.api_enabled"}})],1),o("a-form-model-item",{attrs:{label:"Access key：",prop:"api_access_key"}},[o("a-input-password",{attrs:{autocomplete:"new-password"},model:{value:e.options.api_access_key,callback:function(t){e.$set(e.options,"api_access_key",t)},expression:"options.api_access_key"}})],1),o("a-form-model-item",[o("ReactiveButton",{attrs:{errored:e.errored,loading:e.saving,erroredText:"保存失败",loadedText:"保存成功",text:"保存",type:"primary"},on:{callback:function(t){return e.$emit("callback")},click:e.handleSaveOptions}})],1)],1)],1)},pe=[],ce={name:"ApiTab",props:{options:{type:Object,required:!0},saving:{type:Boolean,default:!1},errored:{type:Boolean,default:!1}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}}}},watch:{options:function(e){this.$emit("onChange",e)}},computed:{rules:function(){var e=this.options.api_enabled;return{api_access_key:[{required:e,message:"* Access key 不能为空",trigger:["change"]}]}}},methods:{handleSaveOptions:function(){var e=this;e.$refs.apiOptionsForm.validate((function(t){t&&e.$emit("onSave")}))}}},me=ce,ue=(0,u.Z)(me,le,pe,!1,null,null,null),_e=ue.exports,de=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("a-form-model",{ref:"advancedOptionsForm",attrs:{model:e.options,rules:e.rules,wrapperCol:e.wrapperCol,layout:"vertical"}},[o("a-form-model-item",{attrs:{help:"* 对网站上面的所有页面路径、本地附件路径、以及主题中的静态资源路径有效。",label:"全局绝对路径："}},[o("a-switch",{model:{value:e.options.global_absolute_path_enabled,callback:function(t){e.$set(e.options,"global_absolute_path_enabled",t)},expression:"options.global_absolute_path_enabled"}})],1),o("a-form-model-item",[o("ReactiveButton",{attrs:{errored:e.errored,loading:e.saving,erroredText:"保存失败",loadedText:"保存成功",text:"保存",type:"primary"},on:{callback:function(t){return e.$emit("callback")},click:e.handleSaveOptions}})],1)],1)],1)},be=[],fe={name:"AdvancedOtherTab",props:{options:{type:Object,required:!0},saving:{type:Boolean,default:!1},errored:{type:Boolean,default:!1}},data:function(){return{wrapperCol:{xl:{span:8},lg:{span:8},sm:{span:12},xs:{span:24}},rules:{}}},watch:{options:function(e){this.$emit("onChange",e)}},methods:{handleSaveOptions:function(){var e=this,t=this;t.$refs.advancedOptionsForm.validate((function(t){t&&e.$emit("onSave")}))}}},he=fe,ve=(0,u.Z)(he,de,be,!1,null,null,null),ge=ve.exports,ke=o(98906),ye={components:{PageView:r.B4,GeneralTab:d,SeoTab:k,PostTab:O,CommentTab:E,AttachmentTab:U,SmtpTab:W,OtherTab:te,PermalinkTab:re,ApiTab:_e,AdvancedOtherTab:ge},data:function(){return{options:{},advancedOptions:!1,saving:!1,errored:!1}},computed:{title:function(){return this.advancedOptions?"高级选项":"基础选项"}},created:function(){this.handleListOptions()},methods:(0,i.Z)((0,i.Z)({},(0,ke.nv)(["refreshUserCache","refreshOptionsCache"])),{},{handleListOptions:function(){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.Z.option.listAsMapView();case 3:o=t.sent,e.options=o.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$log.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},onOptionsChange:function(e){this.options=e},onSaveOptions:function(){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.saving=!0,t.next=4,H.Z.option.saveMapView(e.options);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),e.errored=!0,e.$log.error(t.t0);case 10:return t.prev=10,setTimeout((function(){e.saving=!1}),400),t.next=14,e.handleListOptions();case 14:return t.next=16,e.refreshOptionsCache();case 16:return t.next=18,e.refreshUserCache();case 18:return t.finish(10);case 19:case"end":return t.stop()}}),t,null,[[0,6,10,19]])})))()}})},xe=ye,we=(0,u.Z)(xe,s,a,!1,null,null,null),$e=we.exports}}]);
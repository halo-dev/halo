(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc0b1"],{"4bf3":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a-row",{attrs:{gutter:12}},[s("a-col",{staticClass:"mb-3",attrs:{xl:12,lg:12,md:24,sm:24,xs:24}},[s("a-card",{attrs:{title:"服务器",bordered:!1,hoverable:"",bodyStyle:{padding:0}}},[s("table",{staticClass:"w-full"},[s("tbody",{staticClass:"ant-table-tbody"},[s("tr",[s("td",[t._v("系统")]),s("td",[t._v(t._s(t.systemProperties["os.name"].value)+" "+t._s(t.systemProperties["os.version"].value))])]),s("tr",[s("td",[t._v("平台")]),s("td",[t._v(t._s(t.systemProperties["os.arch"].value))])]),s("tr",[s("td",[t._v("语言")]),s("td",[t._v(t._s(t.systemProperties["user.language"].value))])]),s("tr",[s("td",[t._v("时区")]),s("td",[t._v(t._s(t.systemProperties["user.timezone"].value))])]),s("tr",[s("td",[t._v("当前用户")]),s("td",[t._v(t._s(t.systemProperties["user.name"].value))])]),s("tr",[s("td",[t._v("用户目录")]),s("td",[t._v(t._s(t.systemProperties["user.home"].value))])])])])]),s("a-divider",{attrs:{dashed:""}})],1),s("a-col",{staticClass:"mb-3",attrs:{xl:12,lg:12,md:24,sm:24,xs:24}},[s("a-card",{attrs:{title:"使用情况",bordered:!1,hoverable:"",bodyStyle:{padding:0}}},[s("table",{staticClass:"w-full"},[s("tbody",{staticClass:"ant-table-tbody"},[s("tr",[s("td",[t._v("CPU 核心数")]),s("td",[t._v(t._s(t.system.cpu.count)+" 个")])]),s("tr",[s("td",[t._v("CPU 使用率")]),s("td",[t._v(t._s(t.system.cpu.usage)+" %")])]),s("tr",[s("td",[t._v("JVM 最大可用内存")]),s("td",[t._v(t._s(t._f("fileSizeFormat")(t.jvm.memory.max)))])]),s("tr",[s("td",[t._v("JVM 可用内存")]),s("td",[t._v(t._s(t._f("fileSizeFormat")(t.jvm.memory.committed)))])]),s("tr",[s("td",[t._v("JVM 已用内存")]),s("td",[t._v(t._s(t._f("fileSizeFormat")(t.jvm.memory.used)))])]),s("tr",[s("td",[t._v("GC 次数")]),s("td",[t._v(t._s(t.jvm.gc.pause.count)+" 次")])])])])]),s("a-divider",{attrs:{dashed:""}})],1),s("a-col",{staticClass:"mb-3",attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[s("a-card",{attrs:{title:"环境",bordered:!1,hoverable:"",bodyStyle:{padding:0}}},[s("table",{staticClass:"w-full"},[s("tbody",{staticClass:"ant-table-tbody"},[s("tr",[s("td",[t._v("Java 名称")]),s("td",[t._v(t._s(t.systemProperties["java.vm.name"].value))])]),s("tr",[s("td",[t._v("Java 版本")]),s("td",[t._v(t._s(t.systemProperties["java.version"].value))])]),s("tr",[s("td",[t._v("Java Home")]),s("td",[s("ellipsis",{attrs:{length:t.isMobile()?50:256,tooltip:""}},[t._v(" "+t._s(t.systemProperties["java.home"].value)+" ")])],1)])])])]),s("a-divider",{attrs:{dashed:""}})],1),s("a-col",{staticClass:"mb-3",attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[s("a-card",{attrs:{title:"应用",bordered:!1,hoverable:"",bodyStyle:{padding:0}}},[s("table",{staticClass:"w-full"},[s("tbody",{staticClass:"ant-table-tbody"},[s("tr",[s("td",[t._v("端口")]),s("td",[t._v(t._s(t.propertiesSourcesMap["server.ports"]["local.server.port"].value))])]),s("tr",[s("td",[t._v("PID")]),s("td",[t._v(t._s(t.systemProperties["PID"].value))])]),s("tr",[s("td",[t._v("启动时间")]),s("td",[t._v(t._s(t._f("moment")(t.system.process.startTime)))])]),s("tr",[s("td",[t._v("已启动时间")]),s("td",[t._v(t._s(t._f("dayTime")(t.system.process.uptime)))])]),s("tr",[s("td",[t._v("启动目录")]),s("td",[s("ellipsis",{attrs:{length:t.isMobile()?50:256,tooltip:""}},[t._v(" "+t._s(t.systemProperties["user.dir"].value)+" ")])],1)]),s("tr",[s("td",[t._v("日志目录")]),s("td",[s("ellipsis",{attrs:{length:t.isMobile()?50:256,tooltip:""}},[t._v(" "+t._s(t.systemProperties["LOG_FILE"].value)+" ")])],1)])])])])],1)],1),s("div",{staticStyle:{position:"fixed",bottom:"30px",right:"30px"}},[s("a-button",{attrs:{type:"primary",shape:"circle",icon:"sync",size:"large"},on:{click:t.handleRefresh}})],1)],1)},r=[],o=(s("0ef1"),s("8354"),s("7c02"),s("1a86")),m=s("9efd"),n="/api/admin/actuator",i={logfile:function(){return Object(m["a"])({url:"".concat(n,"/logfile"),method:"get"})},env:function(){return Object(m["a"])({url:"".concat(n,"/env"),method:"get"})},getSystemCpuCount:function(){return Object(m["a"])({url:"".concat(n,"/metrics/system.cpu.count"),method:"get"})},getSystemCpuUsage:function(){return Object(m["a"])({url:"".concat(n,"/metrics/system.cpu.usage"),method:"get"})},getProcessUptime:function(){return Object(m["a"])({url:"".concat(n,"/metrics/process.uptime"),method:"get"})},getProcessStartTime:function(){return Object(m["a"])({url:"".concat(n,"/metrics/process.start.time"),method:"get"})},getProcessCpuUsage:function(){return Object(m["a"])({url:"".concat(n,"/metrics/process.cpu.usage"),method:"get"})},getJvmMemoryMax:function(){return Object(m["a"])({url:"".concat(n,"/metrics/jvm.memory.max"),method:"get"})},getJvmMemoryCommitted:function(){return Object(m["a"])({url:"".concat(n,"/metrics/jvm.memory.committed"),method:"get"})},getJvmMemoryUsed:function(){return Object(m["a"])({url:"".concat(n,"/metrics/jvm.memory.used"),method:"get"})},getJvmGcPause:function(){return Object(m["a"])({url:"".concat(n,"/metrics/jvm.gc.pause"),method:"get"})}},c=i,u={name:"Environment",mixins:[o["a"],o["b"]],data:function(){return{propertiesSourcesMap:{},systemProperties:[],interval:null,system:{cpu:{count:0,usage:0},process:{cpuUsage:0,uptime:0,startTime:0}},jvm:{memory:{max:0,committed:0,used:0},gc:{pause:{count:0}}}}},created:function(){this.loadEnv(),this.loadSystemInfo(),this.loadJvmInfo()},methods:{loadEnv:function(){var t=this;c.env().then((function(e){var s=e.data.propertySources;s.forEach((function(e){t.propertiesSourcesMap[e.name]=e.properties})),t.systemProperties=t.propertiesSourcesMap["systemProperties"]}))},loadSystemInfo:function(){var t=this;c.getSystemCpuCount().then((function(e){t.system.cpu.count=e.data.measurements[0].value})),c.getSystemCpuUsage().then((function(e){t.system.cpu.usage=Number(100*e.data.measurements[0].value).toFixed(2)})),c.getProcessUptime().then((function(e){t.system.process.uptime=e.data.measurements[0].value})),c.getProcessStartTime().then((function(e){t.system.process.startTime=1e3*e.data.measurements[0].value})),c.getProcessCpuUsage().then((function(e){t.system.process.cpuUsage=e.data.measurements[0].value}))},loadJvmInfo:function(){var t=this;c.getJvmMemoryMax().then((function(e){t.jvm.memory.max=e.data.measurements[0].value})),c.getJvmMemoryCommitted().then((function(e){t.jvm.memory.committed=e.data.measurements[0].value})),c.getJvmMemoryUsed().then((function(e){t.jvm.memory.used=e.data.measurements[0].value})),c.getJvmGcPause().then((function(e){t.jvm.gc.pause.count=e.data.measurements[0].value}))},handleRefresh:function(){this.loadSystemInfo(),this.loadJvmInfo()}}},d=u,l=s("bdd7"),v=Object(l["a"])(d,a,r,!1,null,null,null);e["default"]=v.exports}}]);